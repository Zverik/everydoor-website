---
title: Every Door ЧаВО
---
# Вопросы и ответы

## Почему карта такая маленькая?

Потому что не она главная. На карте нужно проверить только
своё местоположение, и подвинуть, если оно не там. Смотрите
на список заведений внизу, упорядоченный по расстоянию от вас.

Карта становится больше, когда вы правите заведения вдали
от себя. Хотя приложение сделано для правки того, что вы
видите своими глазами.

## Для чего галочки в списке?

Это отметка, что заведение проверено. Добавляет к объекту
тег `check_date` с текущей датой.

Суть галочки в том, что ты, скажем, обошёл полгорода в первый раз.
А потом вернулся туда через месяц, решил снова обойти.
И тебе нужно как-то отметить, что ты проверил, что заведение
на месте, но ничего не изменилось. Это и есть галочка:
нажал — и пошёл дальше.

Галочка держится две недели после проверки. Потом можно будет
обойти заведения заново.

## Как добавить подъезд?

Справа вверху есть кнопка для переключения режимов.
Она последовательно меняет режимы между заведениями,
микромаппингом и подъездами.

В режиме подъездов нажмите или перетяните кнопку с дверью
справа внизу на карту.

## Как ввести буквы в номер квартиры?

Если в вашей цифровой клавиатуре нет переключателя на полную
клавиатуру с буквами, загляните в настройки приложения.
Они под кнопкой слева вверху на главном экране. Включите там
«заменить цифровую клавиатуру».

## Этажи "3" и "/3" — одно и то же?

Нет. В первом заполнен тег `addr:floor=3`. Это этаж, как он
написан в навигации и используется в жизни. Во втором этот тег
пуст, но есть `level=3`. Это число — номер этажа в последовательной
нумерации от нуля до `building:levels - 1`. То есть, в трёхэтажном
доме `addr:floor` зависит от страны, а `level` всегда 0, 1 или 2.

Вот как условное обозначение в редакторе зависит от этих тегов:

* `2`: `addr:floor=2` и непустой `level=*`.
* `4/`: `addr:floor=4`, тег `level` отсутствует.
* `/1`: `level=1`, тег `addr:floor` отсутствует.
* `1/0`: `addr:floor=1` + `level=0` (и рядом есть объект с тем же
  `addr:floor`, но другим `level`, или наоборот).

## Любые вопросы по тегам

Почему объект отсутствует в редакторе? Когда выводятся белые точки
на объектах в режиме микромаппинга? Как сортируются объекты?

Ответы на все эти вопросы в
[good\_tags.dart](https://github.com/Zverik/every_door/blob/main/lib/helpers/good_tags.dart).
Вот на что обратить внимание:

* Порядок определения главного тега — список `kMainKeys`.
* Какие объекты загружаются — функция `isGoodTags`.
* Что считается заведением — функция `isAmenityTags`.
* Какие точки прилепляются к линиям, и каким — функция `detectSnap`.
* Когда объект микромаппинга неполон — функция `needsMoreInfo`.

## Как поправить или перевести поля в заготовке?

Редактор использует заготовки из редактора iD. Чтобы их изменить,
сделайте пул-реквест в [этот репозиторий](https://github.com/openstreetmap/id-tagging-schema).
Увы, сейчас им никто не занимается: нужно будет найти добровольцев
и убедить владельцев.

Переводят заготовки [на Transifex](https://www.transifex.com/openstreetmap/id-editor/translate/#ru/presets/).

Чтобы перевести варианты значений, нужно сначала сделать пул-реквест
в репозиторий заготовок, добавив нужные варианты,
[как тут](https://github.com/openstreetmap/id-tagging-schema/blob/main/data/fields/camera/type.json).
Потом, когда перевод перезальют на transifex, появятся строки для перевода.
[Как здесь](https://www.transifex.com/openstreetmap/id-editor/translate/#ru/presets/101711314?q=key%3Apresets.fields.camera%2Ftype).
